<style>
    body { font-family: monospace; font-size: 10px; line-height: 1.4; }
    .center { text-align: center; }
    .line { border-top: 1px dashed #000; margin: 5px 0; }
    .row  { display: flex; justify-content: space-between; }
    ul    { list-style: none; padding-left: 0; margin: 2px 0; }
</style>

<div class="center">
    <h3>üßæ CAISSE ‚Äì RE√áU</h3>
    <div>Soci√©t√© / √âtablissement</div>
    <div>Adresse ligne 1</div>
    <div>T√©l: 05 xx xx xx xx</div>
</div>

<div class="line"></div>

<div>
    Ouverture ............. {{ caisse.openedAt|date('d/m/Y H:i') }}<br>
    Cl√¥ture   ............. {{ caisse.closedAt ? caisse.closedAt|date('d/m/Y H:i') : 'EN COURS' }}<br>
    Montant actuel ........ {{ caisse.montantActuel|number_format(2, '.', ' ') }} MAD
</div>

<div class="line"></div>

{% for type, mouvements in mouvementsGroupes %}
    {% if type == 'ENTREE' or type == 'ENCAISSEMENT' or type == 'ENTREE' %}
        <strong>{{ type|capitalize }}</strong>
        <ul>
            {% for m in mouvements %}
                <li>
                    {{ m.createdAt|date('H:i') }} | {{ m.typePaiement|upper }} |
                    {{ m.montant > 0 ? '+' : '' }}{{ m.montant|number_format(2, '.', ' ') }} MAD
                </li>
            {% endfor %}
        </ul>
        <div class="row">
            <strong>Total {{ type|lower }} :</strong>
            <strong>{{ mouvementsGroupes[type ~ '_total']|number_format(2, '.', ' ') }} MAD</strong>
        </div>
        <div class="line"></div>
    {% endif %}
{% endfor %}

<div class="row"><strong>Total :</strong> <strong>{{ total|number_format(2, '.', ' ') }} MAD</strong></div>
<div class="row"><strong>Cl√¥ture :</strong> <strong>{{ caisse.montantCloture|number_format(2, '.', ' ') }} MAD</strong></div>
<div class="row"><strong>√âcart :</strong> <strong>{{ ecart|number_format(2, '.', ' ') }} MAD</strong></div>

<div class="line"></div>

<div class="center">
    Merci pour votre visite üßæ<br>
    Ticket g√©n√©r√© le {{ now|date('d/m/Y H:i') }}
</div>
